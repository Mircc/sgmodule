#!name=è„šæœ¬åˆé›†
#!desc=å»å¹¿å‘Š+è§£é”è„šæœ¬
#!system=ios

# åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

[Rule]
# > çˆ±å¥‡è‰º å»æš‚åœå¹¿å‘Š
DOMAIN-SUFFIX, cupid.iqiyi.com,ğ™ğ™€ğ™…ğ™€ğ˜¾ğ™
# > äººäººè§†é¢‘ å»å¹¿å‘Š
AND,((USER-AGENT,PUClient*), (NOT,((DOMAIN-SUFFIX,rr.tv)))),ğ™ğ™€ğ™…ğ™€ğ˜¾ğ™
URL-REGEX,^https?:\/\/api\.rr\.tv\/(?:ad\/getAll$|storage/business/rootName/app/homePage),ğ™ğ™€ğ™…ğ™€ğ˜¾ğ™
# > ä¼˜é…· å»å¹¿å‘Š
DOMAIN, iyes.youku.com,ğ™ğ™€ğ™…ğ™€ğ˜¾ğ™
URL-REGEX,^http:\/\/.*\.cp31\.ott\.cibntv\.net\/youku\/,ğ™ğ™€ğ™…ğ™€ğ˜¾ğ™-ğ™ğ™„ğ™‰ğ™”ğ™‚ğ™„ğ™
# > äº¬ä¸œ å»å¹¿å‘Š
URL-REGEX,^https?:\/\/api\.m\.jd\.com\/client\.action\?functionId=start$,ğ™ğ™€ğ™…ğ™€ğ˜¾ğ™-ğ™ğ™„ğ™‰ğ™”ğ™‚ğ™„ğ™
# > ç½‘æ˜“ä»£ç†
DOMAIN-SUFFIX,music.163.com,ğ™‹ğ™ğ™Šğ™“ğ™”
DOMAIN-SUFFIX,movie.xeton.dev,ğ™‹ğ™ğ™Šğ™“ğ™”
# > Surgeæäº¤Ckæ·å¾„
IP-CIDR6,112.226.139.216,ğ˜¿ğ™„ğ™ğ™€ğ˜¾ğ™

# åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

[URL Rewrite]
# > TikTokæ¢åŒº
//(æ›´æ¢307åé¢JP JP=æ—¥æœ¬ KR=éŸ©å›½ HK=é¦™æ¸¯ US=ç¾å›½ï¼‰
//(?<=&mcc_mnc=)4 2 307
//(?<=_region=)CN(?=&) JP 307
//(^https?:\/\/*\.\w{4}okv.com\/.+&.+)(\d{2}\.3\.\d)(.+) $118.0$3 302
//^(https?:\/\/(tnc|dm)[\w-]+\.\w+\.com\/.+)(\?)(.+) $1$3 302

# åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

[Script]

# > æ–°æµªå¾®åš å»å¹¿å‘Š
å¾®åšå¹¿å‘Š = requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/wb_launch.js,type=http-response,pattern=^https?://(sdk|wb)app\.uve\.weibo\.com(/interface/sdk/sdkad.php|/wbapplua/wbpullad.lua)
å¾®åšå¹¿å‘Š = type=http-response,requires-body=1,max-size=-1,pattern=^https?://m?api\.weibo\.c(n|om)/2/(statuses/(unread|extend|positives/get|(friends|video)(/|_)(mix)?timeline)|stories/(video_stream|home_list)|(groups|fangle)/timeline|profile/statuses|comments/build_comments|photo/recommend_list|service/picfeed|searchall|cardlist|page|!/photos/pic_recommend_status|video/tiny_stream_video_list),script-path=https://raw.githubusercontent.com/yichahucha/surge/master/wb_ad.js
# > é‡‘å±±WPS vip
WPSç ´è§£ = requires-body=1,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Wps.js,type=http-response,pattern=^https://account.wps.*/api/users/

bilbiiæœç´¢ = type=http-request,pattern=^https:\/\/app\.bilibili\.com\/x\/v2\/search\/type\?.+?%20(%E6%B8%AF|%E5%8F%B0|%E4%B8%AD)&,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Bili_Auto_Regions.js
# > YouTubeå»å¹¿å‘Š
æ²¹ç®¡è§†é¢‘ = type=http-request,pattern=^https?:\/\/.+?\.googlevideo\.com\/.+&(oad|ctier)=(?!A),script-path=https://choler.github.io/Surge/Script/YouTube.js
# > Endelè§£é” https://raw.githubusercontent.com/cpphut/surge_module/main/endel.sgmodule
EndelVIP = requires-body=1,script-path=https://raw.githubusercontent.com/cpphut/scripts/main/js/endel.js,type=http-response,pattern=^https?:\/\/api-production.endel.io\/v3\/call
# > ç™¾åº¦äº‘ç›˜ è§£é”
ç™¾åº¦äº‘ç›˜ = type=http-response,pattern=https:\/\/pan\.baidu\.com\/rest\/2\.0\/membership\/user,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/ddgksf2013/Cuttlefish/master/Crack/bdcloud.js,script-update-interval=0

# > äººäººè§†é¢‘ å»å¹¿å‘Š
äººäººè§†é¢‘ = type=http-response,requires-body=true,pattern=^https?:\/\/api\.rr\.tv\/watch\/v\d\/get_movie_info,script-path=https://Choler.github.io/Surge/Script/rrsp.js
äººäººè§†é¢‘ = type=http-response,requires-body=true,pattern=^https?:\/\/api\.rr\.tv\/v\dplus\/index\/channel,script-path=https://Choler.github.io/Surge/Script/rrsp.js

# > vscoè§£é”
vscoè§£é” = type=http-response,pattern=^https:\/\/api\.revenuecat\.com\/v\d\/subscribers\/\d+$,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/githubdulong/Script/master/vsco.js,script-update-interval=0
# > å¾®ä¿¡è·³è½¬
å¾®ä¿¡è·³è½¬ = type=http-response,pattern=^https\:\/\/(weixin110\.qq|security.wechat)\.com\/cgi-bin\/mmspamsupport-bin\/newredirectconfirmcgi\?,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/zZPiglet/Task/master/asset/UnblockURLinWeChat.js
# > ç™¾åº¦è·³è½¬
ç™¾åº¦è·³è½¬ = type=http-response,pattern=^https\:\/\/boxer\.baidu\.com\/scheme\?scheme,script-path=https://raw.githubusercontent.com/app2smile/rules/master/js/baidu-no-redirect.js

# > æ¨¡å—è®¢é˜…(å•ç‹¬æ·»åŠ )
//çˆ¬è™«å¤å†™å»å¹¿å‘Š https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Surge/Advertising/Advertising.sgmodule
//ä»€ä¹ˆå€¼å¾—ä¹°å»å¹¿å‘Š https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/smzdm/smzdm_remove_ads.sgmodule
//è´´å§å»é™¤å¹¿å‘Šhttps://raw.githubusercontent.com/app2smile/rules/master/module/tieba.sgmodule
//spotifyè§£é”https://raw.githubusercontent.com/app2smile/rules/master/module/spotify.module
//å“”å“©å“”å“©å»å¹¿å‘Šhttps://raw.githubusercontent.com/yjqiang/surge_scripts/main/modules/bilibili/bilibili_big.sgmodule
//Siriä¸æœç´¢https://github.com/VirgilClyne/iRingo/blob/main/sgmodule/Siri_Suggestions_noRuleSet.sgmodule?raw=true

# åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

[MITM]
hostname = %INSERT% -*.amemv.com, -*.snssdk.com, *.googlevideo.com, api.m.jd.com, trade-acs.m.taobao.com, api.rr.tv, account.wps.cn, ap*.intsig.net, dayone.*, ios-*.prod.ftl.netflix.com,ios.prod.ftl.netflix.com, *.lagoapps.com, api.meiyan.com, mb3admin.com, raw.githubusercontent.com, spclient.wg.spotify.com, testflight.apple.com, ap?.bilibili.com, api-production.endel.io, pan.baidu.com, btrace.qq.com, bmall.camera360.com, api.revenuecat.com, api.revenuecat.com, img.zuoyebang.cc, security.wechat.com, weixin110.qq.com, boxer.baidu.com,  api.weibo.cn, mapi.weibo.com, *.uve.weibo.com, weather-data.apple.com, notability.com
